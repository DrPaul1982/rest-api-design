# Designing a REST API â€” Scheduling/Alerting System (Edu Deadlines)

## Topic
Scheduling/Alerting Systems: scheduling and alerting of education activity deadlines.

## 1. Functional requirements
1. Users can create and manage courses (subjects).
2. Users can create and manage tasks (deadlines) linked to courses.
3. Users can create reminders for tasks (e.g., 1 day before due date).
4. Users can view notifications generated by reminders.
5. API supports filtering, sorting, and pagination for all collection endpoints.
6. Authentication is required for all endpoints except registration/login (JWT Bearer).
7. Authorization rules:
    - USER can access only own data.
    - ADMIN can access all data (optional, but supported by design).
8. API returns meaningful HTTP status codes and standard error bodies.
9. API provides HATEOAS links for key resources.

## 2. Non-functional requirements
1. Security: JWT Bearer authentication; HTTPS is required in production.
2. Reliability: consistent error format (application/problem+json), requestId returned in errors.
3. Performance: pagination for all potentially large lists; caching for GET endpoints via ETag.
4. Compatibility: JSON UTF-8; versioned API under /v1.
5. Maintainability: clear resource naming, semantic URIs, consistent filtering and sorting.
6. Idempotency: PUT/DELETE are idempotent; POST may optionally support Idempotency-Key header.

## 3. Model (Entities)
### 3.1 User
- id (uuid)
- email (string)
- name (string)
- role (USER | ADMIN)
- createdAt (datetime)

### 3.2 Course
- id (uuid)
- ownerId (uuid)
- title (string)
- description (string)
- createdAt (datetime)

### 3.3 Task
- id (uuid)
- ownerId (uuid)
- courseId (uuid)
- title (string)
- description (string)
- type (lab | homework | exam | project | other)
- status (planned | in_progress | done | overdue)
- priority (low | medium | high)
- dueAt (datetime)
- tags (string[])
- createdAt, updatedAt (datetime)

### 3.4 Reminder
- id (uuid)
- taskId (uuid)
- triggerAt (datetime)
- channel (email | telegram | push)
- status (scheduled | sent | canceled | failed)
- createdAt (datetime)

### 3.5 Notification
- id (uuid)
- reminderId (uuid)
- sentAt (datetime)
- channel (email | telegram | push)
- status (sent | failed)
- payload (object)
- createdAt (datetime)

## 4. API design overview
Base path: `/v1`

### 4.1 Common query parameters
Pagination:
- `page` (default 1)
- `pageSize` (default 20, max 100)

Sorting:
- `sort=field` (asc)
- `sort=-field` (desc)
- multiple: `sort=dueAt,-priority`

Filtering (examples):
- tasks: `status`, `type`, `courseId`, `priority`, `dueFrom`, `dueTo`, `tag`
- notifications: `status`, `channel`

### 4.2 Response envelope for collections
All collection endpoints return:
- `items`: array
- `page`, `pageSize`
- `totalItems`, `totalPages`
- `_links` with `self`, `next`, `prev` if applicable

## 5. Authentication (JWT Bearer)
### 5.1 Auth endpoints
- `POST /v1/auth/register`
- `POST /v1/auth/login`
- `POST /v1/auth/refresh`
- `POST /v1/auth/logout`

### 5.2 JWT structure (claims example)
```json
{
  "iss": "edu-scheduler",
  "sub": "user-uuid",
  "role": "USER",
  "email": "name@example.com",
  "iat": 1730000000,
  "exp": 1730003600
}


This statement is just for pull request demonstration.